<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Black Hole Ray Marcher | You R. Name</title> <meta name="author" content="You R. Name"> <meta name="description" content="ray marching for rendering physically realistic black holes"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" integrity="sha256-HtsXJanqjKTc8vVQjO4YMhiqFoXkfBsjBWcX91T1jr8=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://i-geng.github.io/projects/blackhole/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">You </span>R. Name</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Black Hole Ray Marcher</h1> <p class="post-description">ray marching for rendering physically realistic black holes</p> </header> <article> <p><strong>Team Members: Irene Geng, Mingyang Wang, Grace Chen, Jerry Zhang</strong></p> <h3 id="abstract">Abstract</h3> <p>In most graphics applications, we assume that light travels in a perfectly straight line. While this is a safe assumption in most scenarios, this is not always the case.</p> <p>A black hole is an extremely dense object in space with a gravitational pull so strong that it prevents anything, including light, from escaping once it gets too close. Einstein’s theory of general relativity describes gravity as the result of curvature of spacetime; when light travels through curved spacetime generated by black holes (or other very massive objects), the light’s behavior becomes warped and bends around the black hole.</p> <p>In this project, we use ray marching methods to render a realistic black hole. We first present a Cartesian coordinate method to render a Schwarzschild black hole (non-rotating, spherically symmetric), and then transition to Boyer-Lindquist coordinates to generalize renderings to a Kerr black hole (rotating, potentially asymmetric). We apply various texture mappings onto the black hole’s accretion disk and starfield background as well as a bloom filter to create the final output renders.</p> <h3 id="technical-approach">Technical Approach</h3> <h4 id="preface-setup-and-physics-overview">Preface: Setup and Physics Overview</h4> <p>The black holes that we consider can be entirely described by their mass and angular momentum; all other relevant properties may be calculated deterministically from these two properties. Every black hole has a Schwarzschild radius, which is defined as: \(r_s = 2GM/c^2\)</p> <p>We define our coordinate systems such that the black hole is centered at the origin. As is typical practice in theoretical physics, parameters are normalized such that the mass of the black hole <em>M</em>, Gravitational Constant <em>G</em>, and speed of light <em>c</em> are set to 1. As a result, all distances are (implicitly) measured in units of the black hole’s Schwarzschild radius. We point the camera directly at the black hole such that the black hole is centered in its field of view.</p> <div class="text-center"> <img src="/assets/img/blackhole/physics/photons.png" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> </div> <p>The above diagram [10] shows several photon trajectories as they travel past the black hole. Any ray that travels close enough to the black hole and crosses the <em>event horizon</em> (the black circle, with radius equal to \(r_s\)) becomes trapped, forming the black hole’s “shadow.” Rays outside of this threshold are bent around and may orbit, but do not get trapped in, the black hole. Note that light can orbit multiple times around the black hole, as is the case with one of the purple rays.</p> <div class="text-center"> <img src="/assets/img/blackhole/physics/diagram.png" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> </div> <p>The above diagram (one of our own renders!) demonstrates some of the behavior we expect to see when rendering black holes. At the center, we see the Black Hole Shadow, surrounded by a bright photon ring. The photon ring is a region where the black hole’s gravity forces photons into orbits around the event horizon. The Accretion Disk, despite being modeled as a perfectly flat disk, appears above and below the shadow due to light rays curving around the black hole.</p> <p>The Einstein Ring, represented as the dotted white circle, is the point(s) at which all light rays are perfectly bent such that they hit the same object, creating “rings” of distortion. Objects visible outside of the Einstein Ring have secondary images reflected on the opposite side of the black hole inside the Einstein Ring, such as shown in the two orange circles and the two yellow circles.</p> <p>The exact mechanisms for studying and tracing light paths in the presence of a black hole require a much deeper study of (and probably a PhD in) theoretical physics, and is quite out of scope for the purposes of this project (especially since our group is lacking in both physics knowledge and PhDs). Below, we present two different approaches for rendering black holes. The first is a (relatively) crude approximation: a simple ray marcher that uses Cartesian coordinates and Forward Euler integration to render Schwarzschild black holes. Then, we build a more physically accurate, generalizable representation using Boyer-Lindquist coordinates and Cash-Karp numerical integration to render either Schwarzschild or Kerr black holes.</p> <h4 id="initial-approach-schwarzschild">Initial Approach: Schwarzschild</h4> <h5 id="overview-ray-marching">Overview: Ray Marching</h5> <p>A Schwarzschild black hole is a simple model for a perfectly symmetric, spherical black hole that has zero charge and zero angular momentum. These assumptions provide a simpler and more well-understood model for light behavior.</p> <p>Because light rays do not travel in straight paths around a black hole, we can no longer use traditional ray tracing line intersection tests to check for intersections. Instead, we use ray marching, a technique that simulates the (non-linear) path of a light ray by taking small steps through a scene, updating ray parameters where necessary, and computing intersections with the objects the ray encounters along the way.</p> <p>At any position, we approximate the ray’s acceleration due to gravity with: \(acceleration = -1.5h^2 \frac{\hat{r}}{\|r\|^5}\)</p> <p>where <em>h</em> is defined as the magnitude of the ray’s specific angular momentum, a constant value calculated once per ray, and <em>r</em> is defined as the vector pointing from the center of the sphere to the photon’s current position. See Appendix A for details and derivations.</p> <h5 id="forward-euler-integration">Forward Euler Integration</h5> <p>With this acceleration, we can then march rays “backwards” in time using Forward Euler integration, updating the photon’s position and velocity at each time step.</p> \[curr_position = prev_position + velocity * dt\] \[curr_velocity = prev_velocity + acceleration * dt\] <p>Since our black hole is represented by a sphere centered at the origin, we can test whether a ray has intersected the black hole with the standard geometric ray-sphere intersection between <em>prev_position</em> and <em>curr_position</em> of each ray marching timestep. This yields the following result:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/ray_tracing.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Standard Ray Tracing: Sphere with Debug Coloring</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/ray_marching.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Ray Marching: Black Hole with Debug Coloring</figcaption> </figure> </div> </div> <p>Notable Observations: Since light rays are bent toward the sphere/black hole, the image of the sphere appears bigger as a result. Additionally, this bending of light enables us to see the entire surface of the sphere – we can see colors from the back side of the sphere (yellow and green) along the edges of the image!</p> <p>We represent the black hole’s accretion disk as a perfectly flat disk with a normal vector (corresponding to the disk’s plane), inner radius, and outer radius (the shape of a 2D donut). Similar to the black hole, we conduct ray-plane intersection at every ray marching timestep; if it intersects the accretion disk plane, we know that the ray intersects the accretion disk itself if the intersection point’s distance from the origin is between the inner and outer radius of the accretion disk.</p> <p>If the ray has not intersected either the sphere or the accretion disk after taking the maximum number of steps, or the ray travels a sufficiently large distance away from the black hole (ie \(20r_s\)) , we conclude that the ray escapes to infinity; in the physical model, this corresponds to the ray originating from the background (aka the celestial sphere).</p> <p>Additionally, we implement texture mapping for the black hole surface, accretion disk, and background for debugging as well as preparation for rendering realistic accretion disks and starfield backgrounds. Mapping checkerboard grid patterns provide a helpful visualization for the behavior of light in our render:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing_checker-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing_checker-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/ray_tracing_checker-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/ray_tracing_checker.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Standard Ray Tracing</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching_checker-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching_checker-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/ray_marching_checker-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/ray_marching_checker.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Ray Marching</figcaption> </figure> </div> </div> <p>Notable Observations: The accretion disk is represented as a 2D disk, but light curving over/under the black hole causes it to appear in front, on top of, and underneath the black hole. The horizontal red line in the background is distorted and bends over the black hole, while a secondary image is produced below the black hole. Similarly to the previous example, we can see the entirety of the black hole surface, resulting in a denser (blue/white) checkerboard pattern.</p> <p>Below, we show two images with proper accretion disk and starfield textures rendered with the above method:</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_1-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/schwarzchild_1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Standard Ray Tracing</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/blackhole/schwarzchild/schwarzchild_2-1400.webp"></source> <img src="/assets/img/blackhole/schwarzchild/schwarzchild_2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Ray Marching</figcaption> </figure> </div> </div> <h4 id="second-approach-kerr-black-hole">Second Approach: Kerr Black Hole</h4> <h5 id="overview-and-limitations-of-the-previous-approach">Overview and Limitations of the previous approach</h5> <p>A Kerr black hole is a more complex model for a black hole that has non-zero angular momentum (but still zero charge). Unfortuantely, the curvature of black hole spacetime means that they cannot be easily or properly represented by Cartesian coordinates. To better account for the physical effects of the black hole’s rotation, we instead use Boyer-Lindquist coordinates, a type of coordinate system used in the theory of general relativity to describe the geometry of spacetime around any rotating massive object (like black holes).</p> <p>Additionally, the Forward Euler Integration method used in the previous section is potentially unstable and ill-defined. The previous renders required very small step sizes, causing renders to be slow and inefficient. Moreover, moving the camera position far away would sometimes cause our rays to skip portions of or the entire black hole/accretion disk. For example, in the image below, we observe a hole in the center of the black hole:</p> <div class="text-center"> <img src="/assets/img/blackhole/kerr/kerr_limitations.png" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> </div> <p>The methods defined below aim to solve these issues.</p> <h5 id="improvments-boyer-lindquist">Improvments: Boyer-Lindquist</h5> <p>Boyer-Lindquist Coordinates consist of 4 components: \((r, \theta, \phi, t)\). The first 3 coordinates, \((r, \theta, \phi)\), are oblate spherical coordinates. Like in the Schwarzschild case, these coordinates are typically normalized such that the black hole radius is 1. We also have a <em>t</em>-coordinate, which marks the time of an event relative to a distant, unmoving observer. This coordinate system allows us to take into account the asymmetric effect of a black hole’s rotation on spacetime curvature.</p> <p>Boyer-Lindquist Coordinates can be converted into Cartesian coordinates via:</p> <ul> <li> \[x = \sqrt(r^2 + a^2) \sin\theta \cos\phi\] </li> <li> \[y = \sqrt{r^2 + a^2}\sin{\theta}\sin{\phi}\] </li> <li> \[z = r\cos{\theta}\] </li> </ul> <p>The Kerr metric describes the geometry of spacetime around a black hole of mass <em>M</em> and angular momentum <em>J</em>. In Boyer-Lindquist coordinates, distance (the line element) is defined by:</p> \[ds^2=-\frac{\Delta }{\Sigma }(dt-a sin^2\theta d\phi )^2+\frac{sin^2\theta }{\Sigma}((r^2+a^2)d\phi -adt)^2+\frac{\Sigma }{\Delta }dr^2+ \Sigma d\theta ^2\] <ul> <li>\(\Delta = r^2 - 2 M r + a^2 + Q^2\\): the discriminant for electrical charge</li> <li> \[\Sigma = r^2 + a^2 \cos^2(\theta)\] </li> <li>\(a = \frac{J}{Mc}\) : Kerr parameter - the ratio between the black hole’s angular momentum and mass. \(a=0\) for non-rotating black holes and \(0 &lt; a &lt; 1\) for rotating black holes.</li> <li>As in typical practice, we normalize \(M = 1\).</li> <li>Kerr black holes have no electric charge, so \(Q = 0\).</li> </ul> <p>Around a Kerr black hole, a photon follows a null geodesic path, the shortest distance path between two points in curved spacetime. This can be determined by solving a system of differential equations, shown in the table below, where derivatives are taken with respect to propertime \(\tau\). \(p = (p_r, p_{\theta}, p_{\phi}, p_t)\) is the ray’s four-momentum, a generalization of three-dimensional momentum to spacetime. As a convenient convention, we set the ray’s conserved energy, \(-p_t = 1\).</p> <hr> <p>Here is a sequence of 7 images of CBspheres.dae rendered with max ray depth set to 0, 1, 2, 3, 4, 5, and 100. We used 256 samples per pixel and 4 samples per light.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_0-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_0-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_0-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_0.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 0</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_1-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 1</figcaption> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_2-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 2</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_3-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_3-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_3-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_3.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 3</figcaption> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_4-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_4-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_4-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_4.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 4</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_5-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">m = 5</figcaption> </figure> </div> </div> <div class="text-center"> <img src="/assets/img/pathtracer_2/Part1/Writeup_1.1_spheres_256_4_100.png" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> <figcaption class="caption">m = 100</figcaption> </div> <p>When the max ray depth is 0, we only see zero-bounce lighting from the area light on the ceiling, and nothing in the scene is illuminated.</p> <p>For m = 1, we only see direct lighting, which includes zero- and one-bounce lighting; the shadows are black, similar to in Project 3-1. Additionally, the spheres are black, as it takes at least two light bounces for the glass effects of the spheres to be rendered properly (discussed more below).</p> <p>At all higher max ray depths (m &gt; 1), the image is rendered with global illumination. We note that the left sphere is reflective and the right sphere is refractive.</p> <p>For m = 2, the left sphere begins to show a reflection of the environment’s direct lighting from the m = 1 step (we note that the ceiling and other sphere are black, like in the m = 1 case). We see a faint reflection on the right sphere, but do not yet see any refraction (refraction needs at least three bounces, as it must enter and exit the sphere as opposed to reflection just bouncing once).</p> <p>For m = 3, the left sphere shows a reflection of the m = 2 case (thus containing global illumination, but the other sphere is still black), and the right sphere’s glass material is finally beginning to show refraction properly; this is the first image in the sequence that shows the caustic effect.</p> <p>For m = 4, the left sphere’s reflection finally shows the refractive effects of the right sphere (and thus looks like glass). We see a spot of light that has been refracted through the right sphere to land on the right wall of the box.</p> <p>The images rendered with m = 5 and m = 100 look quite similar, with no major additional multibounce effects. The images generally appear less noisy, especially the spot of light on the right wall.</p> <h3 id="part-2-microfacet-materials">Part 2: Microfacet Materials</h3> <p>Here is a sequence of 4 images of CB_dragon_microfacet_au.dae rendered with \(\alpha\) set to 0.005, 0.05, 0.25, and 0.5. We used 256 samples per pixel, 4 samples per light, and max ray depth of 7.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.005-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.005-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.005-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.005.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">alpha = 0.005</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.05-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.05-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.05-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.05.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">alpha = 0.05</figcaption> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.25-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.25-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.25-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.25.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">alpha = 0.25</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.5-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.1_dragon_256_4_7-0.5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">alpha = 0.5</figcaption> </figure> </div> </div> <p>We observe that as we increase \(\alpha\), the dragon looks less and less glossy and more matte-like. Another interesting thing of note is that a higher \(\alpha\) results in a slightly noisier image, likely due to the increased amount/intensity of reflections.</p> <p>Here are two images of CBbunny_microfacet_cu.dae rendered using cosine hemisphere sampling and our importance sampling. We used 64 samples per pixel, 1 sample per light, and max ray depth of 5.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-cosine-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-cosine-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-cosine-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-cosine.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Cosine Sampling</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-importance-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-importance-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-importance-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.2_bunny_64_1_5-importance.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Importance Sampling</figcaption> </figure> </div> </div> <p>We see that the cosine sampling case does not converge as well as the importance sampling case: the bunny is a lot darker/less well lit, and both the bunny and the surrounding environment are a lot more noisy. Importance sampling shows a much better lit bunny, and the bunny has a lot better color and metallic look. However, there is still a noticeable amount of noise on the surrounding walls, which can be fixed with more samples.</p> <p>Here are images of CB_lucy_hg.dae with modified <em>eta</em> and <em>k</em> values. We used parameters corresponding to titanium and cesium metal.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Ti-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Ti-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Ti-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Ti.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Titanium</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Cs-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Cs-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Cs-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part2/Writeup_2.3_lucy_1024_8_5-Cs.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Cesium</figcaption> </figure> </div> </div> <p>The titanium Lucy looks silvery, while the cesium Lucy is yellow and gold-like. Cesium is liquid at room temperature and highly reactive, but coding those effects were out of scope for this project and left as an exercise for the reader.</p> <h3 id="part-3-environment-light">Part 3: Environment Light</h3> <p>We used grace.exr for the images in this part of the write-up. Here is a converted .jpg of the environment map.</p> <div class="text-center"> <img src="/assets/img/pathtracer_2/Part3/grace.jpg" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> <figcaption class="caption">grace.jpg</figcaption> </div> <p>Environment lighting simulates incident radiance from every direction on the sphere, from a light source that is infinitely far away. We can use environment lighting to model real-world light sources and environments. For example, the environment lighting of grace.exr simulates the lighting inside of a large cathedral, with direct light sources from multiple lamps and stained glass windows and indirect bounce lighting from every surface.</p> <p>Here is the probability_debug.png file for grace.exr, generated using the save_probability_debug() function.</p> <div class="text-center"> <img src="/assets/img/pathtracer_2/Part3/probability_debug.png" class="mx-auto d-block img-fluid rounded z-depth-1" alt="Centered Image"> <figcaption class="caption">Probability Debug</figcaption> </div> <p>Here is bunny_unlit.dae and grace.exr rendered with uniform sampling and importance sampling. We used 4 samples per pixel, 64 samples per light, and max ray depth of 7.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-uniform-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-uniform-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-uniform-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-uniform.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Uniform Sampling</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-importance-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-importance-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-importance-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part3/Writeup_3.3_bunny_unlit_4_64_7-importance.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Importance Sampling</figcaption> </figure> </div> </div> <p>The image rendered with importance sampling is much less noisy than the uniform sampling image. The uniform sampling image is almost entirely dark, with specks of color scattered on the model surface. It is additionally somewhat difficult to see the bunny’s shape in the uniform sampling image.</p> <p>Here is bunny_microfacet_cu_unlit.dae and grace.exr rendered with uniform sampling and importance sampling. We used 4 samples per pixel, 64 samples per light, and max ray depth of 7.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-uniform-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-uniform-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-uniform-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-uniform.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Uniform Sampling</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-importance-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-importance-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-importance-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part3/Writeup_3.4_bunny_microfacet_unlit_4_64_7-importance.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">Importance Sampling</figcaption> </figure> </div> </div> <p>The image rendered with importance sampling is significantly less noisy and is brighter than the uniform sampling image. Moreover, the bunny has a distinct metallic look in the importance sampling image, but has a very limited effect in the uniform sampling image. The uniform sampling image is much more noisy: the copper material of the bunny model and the pillow it’s placed on has many small bright specks (while there are much fewer in the importance sampling image).</p> <h3 id="part-4-depth-of-field">Part 4: Depth of Field</h3> <p>In a pinhole camera model, we assume a perfect lens aperture of 0. As a result, every point in the scene appears in focus, as all the rays pass through one individual “pinhole” point in the camera, so every point in camera space receives radiance from a single point.</p> <p>In the thin-lens camera model, the camera has a lens (of non zero aperture) that bends and refracts light. Only points that lie at the plane of focus (based on the camera’s focal length) will appear exactly in focus, while points in front or behind the plane of focus will be out of focus and blurred. A point in camera space receives radiance from any point on the thin lens, so we must uniformly sample over the thin lens disk.</p> <p>Here is CBdragon_microfacet_au.dae focused at 4 visibly different depths. We used 512 samples per pixel, 4 samples per light, and an aperture of 0.23.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.5-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">d = 4.5</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.8-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.8-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.8-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_4.8.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">d = 4.8</figcaption> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_5-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_5-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_5-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_5.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">d = 5</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_6-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.2_512-64_0.05_12_4_0.23_6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">d = 6</figcaption> </figure> </div> </div> <p>As the focal length increases, the plane of focus moves farther back. The above sequence of images shows the plane of focus at the head of the dragon, the body of the dragon, the tail of the dragon, and the back wall of the Cornell Box.</p> <p>Here is CBbunny_microfacet_cu.dae rendered with 4 different aperture sizes, all with a focal length of 4.6 (focused on the head of the bunny). We used 512 samples per pixel and 4 samples per light.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.05_4.6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.05_4.6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.05_4.6-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.05_4.6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">b = 0.05</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.3_4.6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.3_4.6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.3_4.6-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.3_4.6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">b = 0.3</figcaption> </figure> </div> </div> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.6_4.6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.6_4.6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.6_4.6-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_0.6_4.6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">b = 0.6</figcaption> </figure> </div> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_1_4.6-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_1_4.6-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_1_4.6-1400.webp"></source> <img src="/assets/img/pathtracer_2/Part4/Writeup_4.3_bunny_512-64_0.05_12_4_1_4.6.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture><figcaption class="caption">b = 1</figcaption> </figure> </div> </div> <p>As the aperture size increases, the depth of field decreases. When b = 0.05, we see that everything is in focus. However, when b = 0.3 and b = 0.6, we see that the walls of the Cornell Box, the edges of the light on the roof, and the back ear of the bunny begin to appear out of focus. When b = 1, the edges of the back all are almost indistinguishable, and the ears of the bunny are almost entirely blurred out.</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 You R. Name. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>